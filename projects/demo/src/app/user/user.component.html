<h1>User Id management</h1>

<section>
  <article>
    <h2>Visitor data</h2>
    <p>Information currently known by the Matomo tracker.</p>
    <figure>
      <table role="grid">
        <caption>
          Visitor data
        </caption>
        <thead>
          <tr>
            <th scope="col">Data</th>
            <th scope="col">Value</th>
            <th scope="col">Code</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">Visitor Id</th>
            <td data-label="Value">{{ visitorId }}</td>
            <td data-label="Code">
              <pre><code class="language-javascript">{{ "this.matomoTracker.getVisitorId().then(console.log);" }}</code></pre>
            </td>
          </tr>
          <tr>
            <th scope="row">Visitor Info</th>
            <td data-label="Value">{{ visitorInfo | json }}</td>
            <td data-label="Code">
              <pre><code class="language-javascript">{{ "this.matomoTracker.getVisitorInfo().then(console.log);" }}</code></pre>
            </td>
          </tr>
          <tr>
            <th scope="row">User Id</th>
            <td data-label="Value">{{ userId }}</td>
            <td data-label="Code">
              <pre><code class="language-javascript">{{ "this.matomoTracker.getUserId().then(console.log);" }}</code></pre>
            </td>
          </tr>
        </tbody>
      </table>
    </figure>
  </article>

  <h2>User Id handling</h2>

  <form [formGroup]="userIdForm">
    <div class="grid">
      <input type="text" placeholder="User ID" formControlName="userId" required />
      <button
        type="submit"
        class="primary"
        (click)="onUserIdSubmit()"
        [disabled]="!userIdForm.valid"
      >
        Set User ID
      </button>
      <button type="button" class="secondary" (click)="onUserIdReset()">Reset User ID</button>
    </div>
  </form>
</section>

<h2>Code examples</h2>

<details>
  <summary>Getting the User Id</summary>
  <div>
    Code:
    <pre><code class="language-typescript">{{ "this.matomoTracker.getUserId().then(console.log);" }}</code></pre>
    Result:
    <pre><code>{{ userId }}</code></pre>
  </div>
</details>

<hr />

<details>
  <summary>Setting the User Id</summary>
  <div>
    Code:
    <pre><code class="language-typescript">{{ "this.matomoTracker.setUserId('MyUserId');" }}</code></pre>
  </div>
</details>

<hr />

<details>
  <summary>Resetting the User Id</summary>
  <div>
    Code:
    <pre><code class="language-typescript">{{ "this.matomoTracker.resetUserId();" }}</code></pre>
  </div>
</details>
